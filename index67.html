<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="robots" content="index, follow"/>
  <title>تقويم الخسوف والكسوف | صلاة الآيات</title>

  <!-- SEO -->
  <meta name="description" content="تقويم دقيق للكسوف والخسوف القادمة مع بيان الحكم الشرعي لصلاة الآيات وفق رأي السيد السيستاني. يعتمد على مصادر فلكية موثوقة مثل NASA و TimeandDate.">
  <meta name="keywords" content="الخسوف, الكسوف, صلاة الآيات, السيد السيستاني, NASA, TimeandDate, تقويم, أحكام, كيفية الصلاة">
  <meta property="og:title" content="تقويم الخسوف والكسوف | صلاة الآيات">
  <meta property="og:description" content="مواعيد دقيقة للكسوف والخسوف مع الأحكام المختصرة وكيفية صلاة الآيات.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://fadhel-alrayes.fun/index67.html"/>
  <meta property="og:image" content="https://fadhel-alrayes.fun/images/eclipse-calendar.jpg"/>
  <meta property="og:locale" content="ar_AR">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="تقويم الخسوف والكسوف | صلاة الآيات">
  <meta name="twitter:description" content="مواعيد دقيقة للكسوف والخسوف مع الأحكام المختصرة وكيفية صلاة الآيات.">
  <meta name="twitter:image" content="https://fadhel-alrayes.fun/images/eclipse-calendar.jpg">
  <link rel="canonical" href="https://fadhel-alrayes.fun/index67.html"/>

  <!-- JSON-LD: الحدث الرئيسي (يُملأ ديناميكيًا) -->
  <script id="ld-json" type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "كسوف شمسي حلقي",
  "url": "https://fadhel-alrayes.fun/index67.html",
  "startDate": "2026-02-17T09:57:36Z",
  "endDate": "2026-02-17T14:28:51Z",
  "description": "متابعة ومشاهدة ظواهر الخسوف والكسوف الفلكية عالميًا، مع معرفة الأحكام الشرعية لصلاة الآيات. الصفحة تعرض مواعيد دقيقة حسب منطقتك الزمنية.",
  "image": ["https://fadhel-alrayes.fun/images/eclipse-calendar.jpg"],
  "eventStatus": "https://schema.org/EventScheduled",
  "eventAttendanceMode": "https://schema.org/OnlineEventAttendanceMode",
  "isAccessibleForFree": true,
  "location": {
    "@type": "VirtualLocation",
    "url": "https://fadhel-alrayes.fun/index67.html"
  },
  "organizer": {
    "@type": "Organization",
    "name": "فاضل الريس",
    "url": "https://fadhel-alrayes.fun"
  },
  "offers": {
    "@type": "Offer",
    "url": "https://fadhel-alrayes.fun/index67.html",
    "price": 0,
    "priceCurrency": "SAR",
    "availability": "https://schema.org/InStock"
  },
  "performer": {
    "@type": "Organization",
    "name": "موقع فاضل الريس للتقاويم الفلكية",
    "url": "https://fadhel-alrayes.fun"
  }
}
  </script>

  <!-- JSON-LD: قائمة الأحداث القادمة -->
  <script id="ld-list" type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "الأحداث الفلكية القادمة - الخسوف والكسوف",
  "description": "قائمة بأقرب خمسة أحداث فلكية قادمة من الخسوف والكسوف",
  "itemListElement": []
}
  </script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700;800&family=Noto+Kufi+Arabic:wght@600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f7f7f4; --card:#ffffff; --ink:#0d1420; --muted:#68707a;
      --border:#e7e3d7; --green:#0f7a4a; --green-700:#0b5e3a; --gold:#c6a83c;
      --shadow:0 10px 24px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:var(--bg); color:var(--ink);
      font-family:"Cairo","Noto Kufi Arabic",Tahoma,Arial,sans-serif;
      line-height:1.75; font-variant-emoji:text;
    }
    .container{width:min(1100px,100%);margin:auto;padding:16px;display:flex;flex-direction:column;gap:14px}

    .hero{background:var(--card);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:16px;text-align:center}
    .heroTitle{margin:2px 0;font-family:"Noto Kufi Arabic",sans-serif;font-weight:700;font-size:1.35rem;letter-spacing:.2px}

    .nextBox{background:var(--card);border:2px solid var(--gold);border-radius:14px;box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}
    .nextTitle{color:var(--green);font-weight:900;font-size:1.05rem;text-align:center}
    .nextDate{color:#8b7a24;font-weight:800;text-align:center}
    .eventName{margin-top:2px;text-align:center;font-weight:900;font-size:1.1rem}
    .whenCol{display:grid;gap:8px}
    .tag{display:block;width:100%;text-align:center;background:#faf9f5;border:1px solid var(--border);border-radius:10px;padding:.55rem .7rem;font-weight:800}
    .ruleLine{text-align:center;color:#7a6720;font-weight:800}

    .tzActions{margin-top:10px;display:flex;justify-content:center}
    .btn{border:1px solid var(--border);background:#fff;border-radius:10px;padding:.5rem .85rem;font-weight:800;cursor:pointer}
    .btn.primary{border-color:#e8dfb2;background:#fff}

    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:760px){.row{grid-template-columns:1fr}}
    .chip{background:var(--card);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:12px;display:flex;gap:10px}
    .stack{display:flex;flex-direction:column}
    .label{font-size:.86rem;color:var(--muted);font-weight:700}
    .value{font-weight:900}

    .rulingBox{background:var(--card);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:14px}
    .rulingBox h3{margin:0 0 10px;text-align:center;font-weight:900;font-size:1.06rem;color:var(--green)}
    .rulingGrid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:900px){.rulingGrid{grid-template-columns:1fr}}
    .rCard{background:var(--card);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:12px}
    .rCard h4{margin:0 0 6px;font-weight:900;text-align:center}
    .rCard p{margin:.35rem 0;text-align:justify}
    .rList{margin:.35rem 0 0 1rem}
    .rList li{margin:.25rem 0}

    .defsGrid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:760px){.defsGrid{grid-template-columns:1fr}}
    .defCard{background:var(--card);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:14px}
    .defCard h4{margin:0 0 8px;font-weight:900;color:var(--green);text-align:center}
    .defCard p{margin:.35rem 0;text-align:justify}
    .bul{margin:.35rem 0 .2rem 1rem}
    .bul li{margin:.25rem 0}
    .defWide{grid-column:1/-1}

    .upcoming{background:var(--card);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:14px}
    .upcoming h3{margin:0 0 8px;text-align:center;font-weight:900;font-size:1.05rem}
    .uDesc{margin:6px 0 12px;color:var(--muted);text-align:center}
    .uList{display:grid;gap:8px}
    .uItem{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center;border:1px solid #efeade;border-radius:10px;padding:10px}
    .uName{font-weight:900}
    .uWhen{display:flex;flex-direction:column;text-align:left}
    .uWhen .l{font-weight:800}
    .uWhen .z{color:var(--muted);font-size:.9rem}

    .sourcesBar{background:var(--card);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:12px;display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap}
    .sourcesBar label{font-weight:900;color:var(--green-700)}
    .sourcesBar select{padding:.55rem .8rem;border:1px solid var(--border);border-radius:10px;font-weight:800;background:#fff;min-width:300px}
    .sourcesBar .btn{border:1px solid var(--border);border-radius:10px;padding:.5rem .9rem;font-weight:900;background:#fff;cursor:pointer}
    .sourcesBar .btn.primary{border-color:#e8dfb2}

    footer{text-align:center;margin-top:6px}
    .credit{color:var(--green-700);font-weight:900}

    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(15,23,42,.28);z-index:60}
    .modal.open{display:grid}
    .box{width:min(480px,95%);background:var(--card);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:14px}
    .rowCtrl{display:flex;gap:10px;align-items:center;margin:8px 0}
    .rowCtrl label{width:120px;color:var(--muted);font-weight:800}
    select{flex:1;padding:.55rem;border:1px solid var(--border);border-radius:10px;font-weight:800;background:#fff}
    .actions{display:flex;gap:10px;margin-top:10px;justify-content:flex-end}

    .ico, [class*="icon"], [data-icon], .emoji, .emj { display:none !important; }
  </style>
</head>
<body>
  <div class="container">
    <header class="hero" aria-label="تقويم الخسوف والكسوف">
      <h1 class="heroTitle">تقويم الخسوف والكسوف | صلاة الآيات</h1>
    </header>

    <section class="nextBox" id="nextBox" aria-live="polite">
      <h2 class="nextTitle">الحدث القادم</h2>
      <div class="nextDate" id="nextDate">الثلاثاء، 17 فبراير 2026</div>
      <div class="eventName" id="eventName">كسوف شمسي حلقي</div>
      <div class="whenCol">
        <span class="tag" id="tStart">يبدأ: 12:57:36 PM</span>
        <span class="tag" id="tMax">الأعظم: 03:13:06 PM</span>
        <span class="tag" id="tEnd">ينتهي: 05:28:51 PM</span>
      </div>
      <div class="ruleLine" id="nextRuling">الحكم الشرعي للصلاة : واجبة</div>
    </section>

    <div class="tzActions">
      <button class="btn primary" id="openTZ" type="button">تغيير المنطقة</button>
    </div>

    <section class="row">
      <div class="chip">
        <div class="stack">
          <div class="label">التاريخ الميلادي</div>
          <div class="value" id="greg">الأربعاء، 29 أكتوبر 2025</div>
        </div>
      </div>
      <div class="chip">
        <div class="stack">
          <div class="label">المنطقة الزمنية</div>
          <div class="value" id="tzLabel">Asia/Bahrain</div>
        </div>
      </div>
    </section>

    <section class="rulingBox" aria-label="أحكام صلاة الآيات">
      <h2>أحكام صلاة الآيات</h2>
      <div class="rulingGrid">
        <article class="rCard">
          <h3>تعريف</h3>
          <p>صلاة واجبة عند الظواهر المخوفة مثل الكسوف والخسوف، وتؤدّى بنية صلاة الآيات تقربًا إلى الله تعالى.</p>
        </article>
        <article class="rCard">
          <h3>الطريقة</h3>
          <p>ركعتان، في كل ركعة خمسة ركوعات ثم سجدتان. تعاد الركعة الثانية كذلك، ثم التشهد والسلام.</p>
          <p>القراءة: إمّا الفاتحة وسورة كاملة لكل قيام، أو تجزئة سورة واحدة على القيامات الخمسة.</p>
        </article>
        <article class="rCard">
          <h3>الأحكام العامة</h3>
          <ul class="rList">
            <li>واجبة عند حدوث الكسوف أو الخسوف ولو جزئيًا.</li>
            <li>وقتها: من ابتداء الظاهرة إلى تمام الانجلاء.</li>
            <li>القضاء: من علم بالظاهرة ولم يصلِّ حتى انجلت وجب عليه القضاء. من لم يعلم بها: يقضي إن كان كليًا فقط.</li>
          </ul>
        </article>
        <article class="rCard">
          <h3>ذوو الأعذار (النساء)</h3>
          <ul class="rList">
            <li>الحائض والنفساء: لا تجب الصلاة حال العذر، ولا قضاء لما فات زمن العذر.</li>
            <li>إن طهرت أثناء بقاء وقت الظاهرة صلّت ما دام الوقت باقيًا.</li>
          </ul>
        </article>
      </div>
    </section>

    <section class="defsGrid" aria-label="التعريف الفلكي">
      <article class="defCard defWide">
        <h2>الكسوف والخسوف</h2>
        <p>ظاهرتان فلكيتان مختلفتان تمامًا: الكسوف للشمس والخسوف للقمر.</p>
      </article>
      <article class="defCard">
        <h3>الكسوف</h3>
        <p>حجب الشمس عن الأرض عندما يمرّ القمر بين الشمس والأرض فيَحجُب ضوءها كليًا أو جزئيًا.</p>
        <ul class="bul">
          <li>المحجوب: الشمس</li>
          <li>الترتيب: الشمس - القمر - الأرض</li>
        </ul>
      </article>
      <article class="defCard">
        <h3>الخسوف</h3>
        <p>وقوع القمر في ظلّ الأرض عندما تكون الأرض بين الشمس والقمر؛ فيبدو القمر مظلمًا أو محمرًا.</p>
        <ul class="bul">
          <li>المحجوب: القمر</li>
          <li>الترتيب: الشمس - الأرض - القمر</li>
        </ul>
      </article>
    </section>

    <section class="upcoming" id="upcoming">
      <h2>الخسوف والكسوف القادمة</h2>
      <div class="uDesc">أقرب خمسة أحداث قادمة عالميًا: التاريخ بالعربية، ووقت أعظم الظاهرة محليًا وبتوقيت UTC.</div>
      <div class="uList" id="uList"></div>
    </section>

    <section class="sourcesBar" aria-label="مصادر معتمدة">
      <label for="srcSel">المصادر:</label>
      <select id="srcSel">
        <option value="https://eclipse.gsfc.nasa.gov/SEdecade/SEdecade2021.html">NASA GSFC — Solar Eclipses 2021-2030</option>
        <option value="https://eclipse.gsfc.nasa.gov/LEdecade/LEdecade2021.html">NASA GSFC — Lunar Eclipses 2021-2030</option>
        <option value="https://www.timeanddate.com/eclipse/">TimeandDate — Eclipses</option>
        <option value="https://www.sistani.org/arabic/qa/0551/">الموقع الرسمي — استفتاءات صلاة الآيات</option>
      </select>
      <button type="button" id="openSrc" class="btn primary">فتح المصدر</button>
    </section>

    <footer><span class="credit">برمجة وتطوير فاضل الريس</span></footer>
  </div>

  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-label="تغيير المنطقة">
    <div class="box">
      <div class="rowCtrl"><label for="tzSel">المنطقة الزمنية</label><select id="tzSel"></select></div>
      <div class="actions">
        <button class="btn" id="cancelTZ" type="button">إلغاء</button>
        <button class="btn primary" id="saveTZ" type="button">حفظ</button>
      </div>
    </div>
  </div>

<script>
/* =============== تنسيقات وقت ومنطقة =============== */
const SYSTEM_TZ = Intl.DateTimeFormat().resolvedOptions().timeZone || 'UTC';
let tz = localStorage.getItem('eclipse_tz') || SYSTEM_TZ;

function fmtDateFull(d, zone){
  return new Intl.DateTimeFormat('ar', {timeZone: zone, weekday:'long', year:'numeric', month:'long', day:'numeric'}).format(d);
}
function fmtHMS12(d, zone){
  return new Intl.DateTimeFormat('en-US', {timeZone: zone, hour:'2-digit', minute:'2-digit', second:'2-digit', hour12:true}).format(d);
}
function fmtHMS12UTC(iso){
  return new Intl.DateTimeFormat('en-US', {timeZone: 'UTC', hour:'2-digit', minute:'2-digit', second:'2-digit', hour12:true}).format(new Date(iso));
}
function toTZ(iso, zone){
  const d = new Date(iso);
  const parts = new Intl.DateTimeFormat('en-CA', {
    timeZone: zone, year:'numeric', month:'2-digit', day:'2-digit',
    hour:'2-digit', minute:'2-digit', second:'2-digit'
  }).formatToParts(d);
  const g = t => +(parts.find(p=>p.type===t).value);
  return new Date(g('year'), g('month')-1, g('day'), g('hour'), g('minute'), g('second'));
}

/* =============== بيانات فلكية دقيقة (UTC) =============== */
const EVENTS = [
  { kind:"كسوف شمسي حلقي", p1:"2026-02-17T09:57:36Z", greatest:"2026-02-17T12:13:06Z", p4:"2026-02-17T14:28:51Z" },
  { kind:"خسوف قمري كلي", p1:"2026-03-03T08:44:22Z", greatest:"2026-03-03T11:33:37Z", p4:"2026-03-03T14:22:59Z" },
  { kind:"كسوف شمسي كلي", p1:"2026-08-12T15:34:15Z", greatest:"2026-08-12T17:46:06Z", p4:"2026-08-12T19:57:57Z" },
  { kind:"خسوف قمري جزئي", p1:"2026-08-28T01:23:58Z", greatest:"2026-08-28T04:12:53Z", p4:"2026-08-28T07:01:47Z" },
  { kind:"كسوف شمسي حلقي", p1:"2027-02-06T12:58:47Z", greatest:"2027-02-06T16:00:48Z", p4:"2027-02-06T19:02:50Z" }
];

/* =============== عرض الحدث + JSON-LD =============== */
function renderEvent(){
  const now = new Date();
  const future = EVENTS.filter(e => new Date(e.p1) > now).sort((a,b) => new Date(a.p1) - new Date(b.p1));
  const ev = future[0] || EVENTS[EVENTS.length-1];

  document.getElementById('eventName').textContent = ev.kind;
  const startLocal = toTZ(ev.p1, tz);
  document.getElementById('nextDate').textContent = fmtDateFull(startLocal, tz);
  document.getElementById('tStart').textContent = "يبدأ: " + fmtHMS12(toTZ(ev.p1, tz), tz);
  document.getElementById('tMax').textContent = "الأعظم: " + fmtHMS12(toTZ(ev.greatest, tz), tz);
  document.getElementById('tEnd').textContent = "ينتهي: " + fmtHMS12(toTZ(ev.p4, tz), tz);
  document.getElementById('nextRuling').textContent = "الحكم الشرعي للصلاة : واجبة";

  const ld = {
    "@context": "https://schema.org",
    "@type": "Event",
    "name": ev.kind,
    "url": "https://fadhel-alrayes.fun/index67.html",
    "startDate": ev.p1,
    "endDate": ev.p4,
    "description": "متابعة ومشاهدة ظواهر الخسوف والكسوف الفلكية عالميًا، مع معرفة الأحكام الشرعية لصلاة الآيات.",
    "image": ["https://fadhel-alrayes.fun/images/eclipse-calendar.jpg"],
    "eventStatus": "https://schema.org/EventScheduled",
    "eventAttendanceMode": "https://schema.org/OnlineEventAttendanceMode",
    "isAccessibleForFree": true,
    "location": { "@type": "VirtualLocation", "url": "https://fadhel-alrayes.fun/index67.html" },
    "organizer": { "@type": "Organization", "name": "فاضل الريس", "url": "https://fadhel-alrayes.fun" },
    "offers": { "@type": "Offer", "url": "https://fadhel-alrayes.fun/index67.html", "price": 0, "priceCurrency": "SAR", "availability": "https://schema.org/InStock" },
    "performer": { "@type": "Organization", "name": "موقع فاضل الريس للتقاويم الفلكية", "url": "https://fadhel-alrayes.fun" }
  };
  document.getElementById('ld-json').textContent = JSON.stringify(ld, null, 2);
}

/* =============== قائمة الأحداث + ItemList =============== */
function renderUpcoming(){
  const future = EVENTS.slice(0,5);
  const uList = document.getElementById('uList');
  uList.innerHTML = future.map(e => {
    const d = fmtDateFull(toTZ(e.greatest, tz), tz);
    const t = fmtHMS12(toTZ(e.greatest, tz), tz);
    const u = fmtHMS12UTC(e.greatest);
    return `<div class="uItem"><div class="uName">${e.kind}</div><div class="uWhen"><span class="l">${d} - ${t}</span><span class="z">UTC: ${u}</span></div></div>`;
  }).join('');

  const list = {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "الأحداث الفلكية القادمة",
    "description": "قائمة بأقرب خمسة أحداث فلكية قادمة من الخسوف والكسوف",
    "itemListElement": future.map((e,i) => ({
      "@type": "ListItem",
      "position": i+1,
      "item": {
        "@type": "Event",
        "name": e.kind,
        "url": "https://fadhel-alrayes.fun/index67.html",
        "startDate": e.p1,
        "endDate": e.p4,
        "description": "ظاهرة فلكية عالمية معروضة بمواعيد دقيقة.",
        "image": ["https://fadhel-alrayes.fun/images/eclipse-calendar.jpg"],
        "eventStatus": "https://schema.org/EventScheduled",
        "eventAttendanceMode": "https://schema.org/OnlineEventAttendanceMode",
        "isAccessibleForFree": true,
        "location": { "@type": "VirtualLocation", "url": "https://fadhel-alrayes.fun/index67.html" },
        "organizer": { "@type": "Organization", "name": "فاضل الريس", "url": "https://fadhel-alrayes.fun" },
        "offers": { "@type": "Offer", "url": "https://fadhel-alrayes.fun/index67.html", "price": 0, "priceCurrency": "SAR", "availability": "https://schema.org/InStock" },
        "performer": { "@type": "Organization", "name": "موقع فاضل الريس للتقاويم الفلكية", "url": "https://fadhel-alrayes.fun" }
      }
    }))
  };
  document.getElementById('ld-list').textContent = JSON.stringify(list, null, 2);
}

/* =============== معلومات عامة ونافذة المنطقة =============== */
const TZ_LIST = ["UTC","Asia/Bahrain","Asia/Riyadh","Asia/Kuwait","Asia/Baghdad","Asia/Dubai","Asia/Qatar","Africa/Cairo"];

function renderMeta(){
  document.getElementById('tzLabel').textContent = tz;
  document.getElementById('greg').textContent = fmtDateFull(new Date(), tz);
}

const modal = document.getElementById('modal');
const tzSel = document.getElementById('tzSel');

document.getElementById('openTZ').onclick = () => {
  tzSel.innerHTML = TZ_LIST.map(z => `<option value="${z}">${z}</option>`).join("");
  tzSel.value = tz;
  modal.classList.add('open');
  document.body.style.overflow = 'hidden';
};

document.getElementById('cancelTZ').onclick = document.getElementById('saveTZ').onclick = () => {
  if (event.target.id === 'saveTZ') {
    tz = tzSel.value;
    localStorage.setItem('eclipse_tz', tz);
    renderMeta(); renderEvent(); renderUpcoming();
  }
  modal.classList.remove('open');
  document.body.style.overflow = '';
};

modal.onclick = e => { if (e.target === modal) modal.classList.remove('open'); document.body.style.overflow = ''; };

document.getElementById('openSrc').onclick = () => {
  const url = document.getElementById('srcSel').value;
  if (url) window.open(url, '_blank', 'noopener');
};

/* تشغيل */
renderMeta(); renderEvent(); renderUpcoming();
</script>
</body>
</html>
