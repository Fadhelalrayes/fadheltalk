<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„ØµØ§Ù„Ø­Ø© Ù„Ù„Ø²ÙˆØ§Ø¬ ÙˆÙÙ‚ Ø§Ù„Ù…Ø°Ù‡Ø¨ Ø§Ù„Ø´ÙŠØ¹ÙŠ</title>
  <meta name="description" content="ØªÙ‚ÙˆÙŠÙ… ØªÙØ§Ø¹Ù„ÙŠ ÙŠÙˆØ¶Ø­ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ø¨Ø§Ø±ÙƒØ© ÙˆØ§Ù„ØµØ§Ù„Ø­Ø© ÙˆØ§Ù„Ù…ÙƒØ±ÙˆÙ‡Ø© Ù„Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø²ÙˆØ§Ø¬ ÙˆÙÙ‚ Ø§Ù„Ù…Ø°Ù‡Ø¨ Ø§Ù„Ø´ÙŠØ¹ÙŠ Ù„Ø¹Ø§Ù… 1447 Ù‡Ù€.">
  <meta name="keywords" content="Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„ØµØ§Ù„Ø­Ø© Ù„Ù„Ø²ÙˆØ§Ø¬, Ø§Ù„Ù…Ø°Ù‡Ø¨ Ø§Ù„Ø´ÙŠØ¹ÙŠ, ØªÙ‚ÙˆÙŠÙ… Ù‡Ø¬Ø±ÙŠ, 1447, Ø²ÙˆØ§Ø¬, Ø¹Ù‚Ø¯ Ø§Ù„Ù‚Ø±Ø§Ù†">

  <!-- Ø®Ø· + Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root{
      --bg1:#0B132B; --bg2:#e6e7ea;
      --ok:#16a34a; --good:#00B3C4; --bad:#ef4444; --muted:#9ca3af;
      --txt:#0b0f19; --card:#ffffff;
    }
    *{box-sizing:border-box}
    html{font-size:16px}
    body{
      margin:0;background:linear-gradient(135deg,var(--bg1),var(--bg2));
      font-family:'Cairo',system-ui,Arial,sans-serif;color:var(--txt);line-height:1.8
    }

    header{padding:20px;text-align:center;color:#fff}
    header h1{margin:0;font-size:1rem;font-weight:600}

    .wrap{max-width:980px;margin:16px auto 24px;padding:0 12px}
    .calendar{background:var(--card);border-radius:16px;padding:16px;box-shadow:0 6px 16px rgba(0,0,0,.10)}

    .controls{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .calendar h3{margin:8px 0;font-size:1rem;font-weight:600;color:#0B132B}
    .nav-btn{
      padding:8px 12px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;color:#0b0f19;
      font-weight:600;cursor:pointer;transition:.2s transform,.2s box-shadow
    }
    .nav-btn:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(0,0,0,.08)}

    .grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-top:12px}
    .cell{
      aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;border-radius:12px;
      font-weight:600;border:1px solid #eef2f7;background:#f8fafc;font-size:1rem;cursor:pointer;outline:none;
      transition:.15s box-shadow,.15s transform
    }
    .cell:hover{box-shadow:0 6px 12px rgba(0,0,0,.08);transform:translateY(-1px)}
    .wk{background:#fff;font-weight:600;cursor:default}
    .cell.ok{background:rgba(22,163,74,.12)}
    .cell.good{background:rgba(0,179,196,.12)}
    .cell.bad{background:rgba(239,68,68,.12)}
    .cell.muted{color:var(--muted)}

    .legend{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin:14px 0}
    .legend div{display:flex;align-items:center;gap:6px;font-size:1rem}
    .dot{width:12px;height:12px;border-radius:50%;display:inline-block}

    .info-bar{
      max-width:900px;margin:12px auto;background:#fff;border:1px solid #e5e7eb;border-radius:12px;
      padding:10px;display:flex;gap:12px;flex-wrap:wrap;align-items:center
    }
    .badge{padding:4px 10px;border-radius:999px;font-weight:600;color:#fff;background:#9ca3af}
    .badge.ok{background:#16a34a}.badge.good{background:#00B3C4;color:#002c33}.badge.bad{background:#ef4444}

    /* Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© */
    .note{
      background:#fff;margin-top:12px;border-radius:14px;padding:14px 16px;
      box-shadow:0 4px 10px rgba(0,0,0,.05);text-align:justify;text-justify:inter-word;border:1px solid #eceff3;
      font-size:1rem;color:#0b0f19
    }

    /* Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« */
    .hadith-card{
      background:#fff;margin-top:12px;border-radius:14px;padding:14px 16px;
      box-shadow:0 6px 16px rgba(0,0,0,.08);border:1px solid #e9edf2
    }
    .hadith-title{margin:0 0 8px;font-weight:600;color:#0B132B}
    .hadith-text{margin:0 0 8px;text-align:justify}
    .hadith-source{font-size:.95rem;color:#374151;background:#f3f4f6;padding:6px 10px;border-radius:10px;display:inline-block}

    footer{text-align:center;padding:20px 10px}
    /* Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© (Ù…Ø±Ø¨Ù‘Ø¹Ø§Øª Ù†Ø§Ø¹Ù…Ø©) */
    .share{margin-bottom:12px}
    .share h4{margin-bottom:8px;font-size:1rem;color:#fff}
    .share a{
      display:inline-block;margin:0 5px;font-size:1.1rem;width:32px;height:32px;line-height:32px;text-align:center;
      border-radius:8px;color:#fff;transition:.2s
    }
    .share a.fb{background:#1877f2}.share a.tw{background:#1da1f2}.share a.wa{background:#25d366}.share a.tg{background:#0088cc}.share a.cp{background:#6b7280}
    .share a:hover{opacity:.85;transform:scale(1.05)}
    .copied-msg{margin-top:8px;font-size:.9rem;color:#d1fae5;display:none}

    /* Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± (Ø¢Ø®Ø± Ø§Ù„ØµÙØ­Ø©) */
    .dev{margin-top:14px;font-size:.95rem}
    .dev a{color:#e3e7ee;text-decoration:none;font-weight:600}
    .dev a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header><h1>Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„ØµØ§Ù„Ø­Ø© Ù„Ù„Ø²ÙˆØ§Ø¬ ÙˆÙÙ‚ Ø§Ù„Ù…Ø°Ù‡Ø¨ Ø§Ù„Ø´ÙŠØ¹ÙŠ</h1></header>

  <div class="wrap">
    <section class="calendar" aria-label="ØªÙ‚ÙˆÙŠÙ… Ù‡Ø¬Ø±ÙŠ ØªÙØ§Ø¹Ù„ÙŠ 1447 Ù‡Ù€">
      <div class="controls">
        <button class="nav-btn" id="prevMonth" aria-label="Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚">â€¹</button>
        <h3 id="calTitle">Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447 Ù‡Ù€</h3>
        <button class="nav-btn" id="nextMonth" aria-label="Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ØªØ§Ù„ÙŠ">â€º</button>
      </div>

      <div class="grid" id="calGrid" aria-label="Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø±"></div>

      <div class="legend" aria-label="Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù„ÙˆÙ†ÙŠ">
        <div><span class="dot" style="background:var(--ok)"></span> Ù…Ø¨Ø§Ø±ÙƒØ©</div>
        <div><span class="dot" style="background:var(--good)"></span> ØµØ§Ù„Ø­Ø©</div>
        <div><span class="dot" style="background:var(--bad)"></span> Ù…ÙƒØ±ÙˆÙ‡Ø©</div>
        <div><span class="dot" style="background:var(--muted)"></span> ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©</div>
      </div>

      <div class="info-bar" id="infoBar" aria-live="polite">
        <div><strong>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ:</strong> <span id="hijriOut">â€”</span></div>
        <div><strong>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ:</strong> <span id="gregOut">â€”</span></div>
        <div><strong>Ø§Ù„Ø­ÙƒÙ…:</strong> <span id="statusOut" class="badge">â€”</span></div>
      </div>

      <!-- Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© -->
      <div class="note">
        ÙŠÙØ¹Ø±Ø¶ Ø­ÙƒÙ… Ø§Ù„Ù„ÙŠØ§Ù„ÙŠ (Ù…Ø¨Ø§Ø±ÙƒØ©/ØµØ§Ù„Ø­Ø©/Ù…ÙƒØ±ÙˆÙ‡Ø©) Ù„Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø²ÙˆØ§Ø¬ Ù„Ø¹Ø§Ù… 1447 Ù‡Ù€. ÙŠØ¨Ø¯Ø£ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø´Ø±Ø¹ÙŠ Ù…Ù† Ø§Ù„ØºØ±ÙˆØ¨ ÙˆÙ‚Ø¯ ÙŠØ®ØªÙ„Ù ÙŠÙˆÙ…Ù‹Ø§ ØªØ¨Ø¹Ù‹Ø§ Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù‡Ù„Ø§Ù„.
      </div>

      <!-- Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« -->
      <div class="hadith-card" id="hadithBox" aria-live="polite">
        <h4 class="hadith-title">ğŸ“œ Ø­Ø¯ÙŠØ«</h4>
        <p class="hadith-text" id="hadithText"></p>
        <span class="hadith-source" id="hadithSource"></span>
      </div>
    </section>
  </div>

  <footer>
    <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© -->
    <div class="share" aria-label="Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØµÙØ­Ø©">
      <h4>Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØµÙØ­Ø©</h4>
      <a href="#" class="fb" id="shareFB" title="ÙÙŠØ³Ø¨ÙˆÙƒ" aria-label="ÙÙŠØ³Ø¨ÙˆÙƒ"><i class="fab fa-facebook-f"></i></a>
      <a href="#" class="tw" id="shareTW" title="ØªÙˆÙŠØªØ±" aria-label="ØªÙˆÙŠØªØ±"><i class="fab fa-x-twitter"></i></a>
      <a href="#" class="wa" id="shareWA" title="ÙˆØ§ØªØ³Ø§Ø¨" aria-label="ÙˆØ§ØªØ³Ø§Ø¨"><i class="fab fa-whatsapp"></i></a>
      <a href="#" class="tg" id="shareTG" title="ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…" aria-label="ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…"><i class="fab fa-telegram-plane"></i></a>
      <a href="#" class="cp" id="shareCP" title="Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·" aria-label="Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·"><i class="fas fa-link"></i></a>
      <div class="copied-msg" id="copiedMsg">âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</div>
    </div>

    <!-- Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± (Ø¢Ø®Ø± Ø¹Ù†ØµØ±) -->
    <div class="dev">
      <a href="https://api.whatsapp.com/send/?phone=97333375858&text&type=phone_number&app_absent=0" target="_blank" rel="noopener">
        Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ±: ÙØ§Ø¶Ù„ Ø§Ù„Ø±ÙŠØ³
      </a>
    </div>
  </footer>

  <script>
    /* ====================== Ø¨ÙŠØ§Ù†Ø§Øª 1447 Ù‡Ù€ ====================== */
    const DATA_1447={
      3:{blessed:[1,2,6,7,12,18,19,20,23,27,28,30],good:[9,11,14,15,22],disliked:[3,4,5,8,10,13,16,17,21,24,25,26,29]},
      4:{blessed:[2,4,6,7,12,17,19,20,23,27,28,30],good:[9,10,11,14],disliked:[1,3,5,8,13,15,16,18,21,22,24,25,26,29]},
      5:{blessed:[1,2,4,7,12,17,19,23,28],good:[8,9,10,11,14,15,22],disliked:[3,5,6,13,16,18,20,21,24,25,26,27,29]},
      6:{blessed:[1,2,4,6,7,17,18,20,23,27,28,30],good:[8,9,10,11,14,15,22],disliked:[3,5,12,13,16,19,21,24,25,26,29]},
      7:{blessed:[1,2,4,6,7,18,19,20,23,27,28,30],good:[8,9,11,14,22],disliked:[3,5,10,12,13,15,16,17,21,24,25,26,29]},
      8:{blessed:[2,4,6,7,12,17,18,19,20,27,28],good:[9,10,11,14,23],disliked:[1,3,5,8,13,15,16,21,22,24,25,26,29]},
      9:{blessed:[1,2,4,6,17,18,27,30],good:[9,10,11,12,15,22,23],disliked:[3,5,7,8,13,14,16,19,20,21,24,25,26,28,29]},
      10:{blessed:[1,4,6,7,17,18,20,23,27,28],good:[8,9,10,11,14,15,22],disliked:[2,3,5,12,13,16,19,21,24,25,26,29]},
      11:{blessed:[1,2,6,7,12,17,19,20,23,27,28],good:[8,9,10,14,15],disliked:[3,4,5,11,13,16,18,21,22,24,25,26,29]},
      12:{blessed:[1,2,4,6,12,18,19,20,23,27,28,30],good:[9,11,14,15,22],disliked:[3,5,7,8,10,13,16,17,21,24,25,26,29]}
    };
    const H_MONTHS=['Ù…Ø­Ø±Ù…','ØµÙØ±','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠØ©','Ø±Ø¬Ø¨','Ø´Ø¹Ø¨Ø§Ù†','Ø±Ù…Ø¶Ø§Ù†','Ø´ÙˆØ§Ù„','Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'];
    const G_MONTHS=['ÙŠÙ†Ø§ÙŠØ±','ÙØ¨Ø±Ø§ÙŠØ±','Ù…Ø§Ø±Ø³','Ø£Ø¨Ø±ÙŠÙ„','Ù…Ø§ÙŠÙˆ','ÙŠÙˆÙ†ÙŠÙˆ','ÙŠÙˆÙ„ÙŠÙˆ','Ø£ØºØ³Ø·Ø³','Ø³Ø¨ØªÙ…Ø¨Ø±','Ø£ÙƒØªÙˆØ¨Ø±','Ù†ÙˆÙÙ…Ø¨Ø±','Ø¯ÙŠØ³Ù…Ø¨Ø±'];

    /* ================= ØªØ­ÙˆÙŠÙ„Ø§Øª Ù‡Ø¬Ø±ÙŠ â†’ Ù…ÙŠÙ„Ø§Ø¯ÙŠ (Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ø¥Ø²Ø§Ø­Ø©) ================= */
    const ISLAMIC_EPOCH=1948439.5;
    function islamicToJD(y,m,d){return d+Math.ceil(29.5*(m-1))+(y-1)*354+Math.floor((3+11*y)/30)+ISLAMIC_EPOCH-1;}
    function jdToGregorian(jd){
      const Z=Math.floor(jd+0.5),F=(jd+0.5)-Z;let A=Z;
      if(Z>=2299161){const alpha=Math.floor((Z-1867216.25)/36524.25);A=Z+1+alpha-Math.floor(alpha/4);}
      const B=A+1524,C=Math.floor((B-122.1)/365.25),D=Math.floor(365.25*C),E=Math.floor((B-D)/30.6001);
      const day=B-D-Math.floor(30.6001*E)+F,month=E<14?E-1:E-13,year=month>2?C-4716:C-4715;
      return [year,month,Math.round(day)];
    }
    const HAS_UMALQURA=(()=>{ try{ new Intl.DateTimeFormat('en-u-ca-islamic-umalqura').format(new Date()); return true; }catch{ return false; } })();
    function hijriToGregorian(y,m,d){
      if(HAS_UMALQURA){
        const fmt=new Intl.DateTimeFormat('en-u-ca-islamic-umalqura',{year:'numeric',month:'numeric',day:'numeric',timeZone:'UTC'});
        const approx=jdToGregorian(islamicToJD(y,m,d));
        const base=new Date(Date.UTC(approx[0],approx[1]-1,approx[2]));
        function parts(dt){let yy,mm,dd;for(const p of fmt.formatToParts(dt)){if(p.type==='year')yy=+p.value;else if(p.type==='month')mm=+p.value;else if(p.type==='day')dd=+p.value;}return[yy,mm,dd];}
        for(let k=-3;k<=3;k++){const dt=new Date(base);dt.setUTCDate(dt.getUTCDate()+k);const[yy,mm,dd]=parts(dt);if(yy===y&&mm===m&&dd===d)return[dt.getUTCFullYear(),dt.getUTCMonth()+1,dt.getUTCDate()];}
      }
      return jdToGregorian(islamicToJD(y,m,d));
    }

    /* ================= Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ================= */
    let currentMonth=3, selectedDay=1;
    const calTitle=document.getElementById('calTitle');
    const calGrid =document.getElementById('calGrid');
    const prevBtn =document.getElementById('prevMonth');
    const nextBtn =document.getElementById('nextMonth');
    const hijriOut=document.getElementById('hijriOut');
    const gregOut =document.getElementById('gregOut');
    const statusOut=document.getElementById('statusOut');

    function renderCalendar(){
      calTitle.textContent=`${H_MONTHS[currentMonth-1]} 1447 Ù‡Ù€`;
      calGrid.innerHTML='';
      // Ø±Ø¤ÙˆØ³ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
      ['Ø³','Ø£','Ø«','Ø£Ø±','Ø®','Ø¬','Ø³'].forEach(w=>{
        const head=document.createElement('div');
        head.textContent=w; head.className='cell wk'; head.setAttribute('aria-hidden','true');
        calGrid.appendChild(head);
      });
      // Ø£ÙŠØ§Ù… 1..30
      for(let d=1; d<=30; d++){
        const cls=DATA_1447[currentMonth].blessed.includes(d)?'ok'
                 :DATA_1447[currentMonth].good.includes(d)?'good'
                 :DATA_1447[currentMonth].disliked.includes(d)?'bad':'muted';
        const cell=document.createElement('div');
        cell.className=`cell ${cls}`; cell.textContent=d;
        cell.title=(cls==='ok'?'Ù…Ø¨Ø§Ø±ÙƒØ©':cls==='good'?'ØµØ§Ù„Ø­Ø©':cls==='bad'?'Ù…ÙƒØ±ÙˆÙ‡Ø©':'ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©');
        cell.dataset.day=String(d);
        calGrid.appendChild(cell);
      }
    }

    function showInfo(day){
      selectedDay=day;
      const cls=DATA_1447[currentMonth].blessed.includes(day)?'ok'
              :DATA_1447[currentMonth].good.includes(day)?'good'
              :DATA_1447[currentMonth].disliked.includes(day)?'bad':'muted';
      const statusTxt=cls==='ok'?'Ù…Ø¨Ø§Ø±ÙƒØ©':cls==='good'?'ØµØ§Ù„Ø­Ø©':cls==='bad'?'Ù…ÙƒØ±ÙˆÙ‡Ø©':'ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©';
      const [gy,gm,gd]=hijriToGregorian(1447,currentMonth,day);
      hijriOut.textContent=`${day} ${H_MONTHS[currentMonth-1]} 1447 Ù‡Ù€`;
      gregOut.textContent =`${gd} ${G_MONTHS[gm-1]} ${gy} Ù…`;
      statusOut.textContent=statusTxt; statusOut.className=`badge ${cls}`;
    }

    // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø© (Ø¥Ù† ÙƒØ§Ù† Ø¶Ù…Ù† 1447 Ù‡Ù€)
    function pickTodayHijri(){
      if(HAS_UMALQURA){
        const fmt=new Intl.DateTimeFormat('en-u-ca-islamic-umalqura',{year:'numeric',month:'numeric',day:'numeric'});
        let y,m,d;
        for(const p of fmt.formatToParts(new Date())){
          if(p.type==='year') y=+p.value; else if(p.type==='month') m=+p.value; else if(p.type==='day') d=+p.value;
        }
        if(y===1447 && m>=3 && m<=12){ currentMonth=m; selectedDay=d; }
      }
    }

    // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
    calGrid.addEventListener('click',e=>{
      const el=e.target.closest('.cell'); if(!el || el.classList.contains('wk')) return;
      const d=+el.dataset.day; if(d) showInfo(d);
    });
    prevBtn.addEventListener('click',()=>{ currentMonth--; if(currentMonth<3) currentMonth=12; renderCalendar(); showInfo(Math.min(selectedDay,30)); });
    nextBtn.addEventListener('click',()=>{ currentMonth++; if(currentMonth>12) currentMonth=3; renderCalendar(); showInfo(Math.min(selectedDay,30)); });

    /* ================= Ø£Ø­Ø§Ø¯ÙŠØ« (ØªØªØºÙŠÙ‘Ø± ÙƒÙ„ Ø²ÙŠØ§Ø±Ø©) ================= */
    const HADITHS=[
      {text:"Ø¹Ù† Ø§Ù„Ø±Ø³ÙˆÙ„ Ø§Ù„Ø£ÙƒØ±Ù… ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ¢Ù„Ù‡ ÙˆØ³Ù„Ù…: Ø§Ù„Ù†ÙƒØ§Ø­ Ù…Ù† Ø³Ù†Ù‘ØªÙŠØŒ ÙÙ…Ù† Ø±ØºØ¨ Ø¹Ù†Ù‡ ÙÙ‚Ø¯ Ø±ØºØ¨ Ø¹Ù† Ø³Ù†Ù‘ØªÙŠ.",src:"Ø§Ù„Ù…ØµØ¯Ø±: Ù…Ø³ØªØ¯Ø±Ùƒ Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ù€ Ø§Ù„Ù…ÙŠØ±Ø²Ø§ Ø§Ù„Ù†ÙˆØ±ÙŠØŒ Ø¬ 41 Øµ 153."},
      {text:"Ø¹Ù†Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ¢Ù„Ù‡ ÙˆØ³Ù„Ù…: ÙŠØ§ Ù…Ø¹Ø´Ø± Ø§Ù„Ø´Ø¨Ø§Ø¨ Ù…Ù† Ø§Ø³ØªØ·Ø§Ø¹ Ù…Ù†ÙƒÙ… Ø§Ù„Ø¨Ø§Ù‡ ÙÙ„ÙŠØªØ²ÙˆÙ‘ÙØ¬ØŒ ÙØ¥Ù†Ù‘ÙÙ‡ Ø£ØºØ¶Ù‘Ù Ù„Ù„Ø¨ØµØ±ØŒ ÙˆØ£Ø­ØµÙ†Ù Ù„Ù„ÙØ±Ø¬ØŒ ÙˆÙ…Ù† Ù„Ù… ÙŠØ³ØªØ·Ø¹ ÙÙ„ÙŠØµÙÙ…ØŒ ÙØ¥Ù†Ù‘Ù Ø§Ù„ØµÙˆÙ… Ù„Ù‡ ÙˆØ¬Ø§Ø¡.",src:"Ø§Ù„Ù…ØµØ¯Ø±: Ø¬Ø§Ù…Ø¹ Ø£Ø­Ø§Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠØ¹Ø©."},
      {text:"Ø¹Ù†Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ¢Ù„Ù‡ ÙˆØ³Ù„Ù…: Ø¥Ø°Ø§ ØªØ²ÙˆÙ‘Ø¬ Ø§Ù„Ø±Ø¬Ù„ Ø£Ø­Ø±Ø² Ù†ØµÙ Ø¯ÙŠÙ†Ù‡ØŒ ÙÙ„ÙŠØªÙ‚Ù‘Ù Ø§Ù„Ù„Ù‡ ÙÙŠ Ø§Ù„Ù†ØµÙ Ø§Ù„Ø¢Ø®Ø±.",src:"Ø§Ù„Ù…ØµØ¯Ø±: Ø§Ù„ÙƒØ§ÙÙŠ."},
      {text:"Ø¹Ù†Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ¢Ù„Ù‡ ÙˆØ³Ù„Ù…: Ù…Ù† Ø³Ø±Ù‘Ù‡ Ø£Ù† ÙŠÙ„Ù‚Ù‰ Ø§Ù„Ù„Ù‡ Ø·Ø§Ù‡Ø±Ø§Ù‹ Ù…Ø·Ù‡Ù‘ÙØ±Ø§Ù‹ØŒ ÙÙ„ÙŠÙ„Ù‚Ù‡ Ø¨Ø²ÙˆØ¬Ø©.",src:"Ø§Ù„Ù…ØµØ¯Ø±: ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø´ÙŠØ¹Ø©."}
    ];
    function nextVisitIndex(){
      const key='hadithIndex';
      const last=parseInt(localStorage.getItem(key)||'-1',10);
      const idx=((isNaN(last)?-1:last)+1)%HADITHS.length;
      localStorage.setItem(key,String(idx));
      return idx;
    }
    function renderHadith(){
      const h=HADITHS[nextVisitIndex()];
      document.getElementById('hadithText').textContent=h.text;
      document.getElementById('hadithSource').textContent=h.src;
    }

    /* ================= Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØµÙØ­Ø© + Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ================= */
    const pageUrl = encodeURIComponent(window.location.href);
    const pageTitle = encodeURIComponent(document.title);
    function initShareLinks(){
      document.getElementById('shareFB').href=`https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;
      document.getElementById('shareTW').href=`https://twitter.com/intent/tweet?url=${pageUrl}&text=${pageTitle}`;
      document.getElementById('shareWA').href=`https://api.whatsapp.com/send?text=${pageTitle}%20${pageUrl}`;
      document.getElementById('shareTG').href=`https://t.me/share/url?url=${pageUrl}&text=${pageTitle}`;
      document.getElementById('shareCP').addEventListener('click',e=>{
        e.preventDefault();
        navigator.clipboard.writeText(window.location.href).then(()=>{
          const msg=document.getElementById('copiedMsg');
          msg.style.display='block';
          setTimeout(()=>{msg.style.display='none';},2000);
        });
      });
    }

    /* ================= ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ ================= */
    (function init(){
      pickTodayHijri();     // ÙŠØ¶Ø¨Ø· Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¥Ù† Ø£Ù…ÙƒÙ†
      renderCalendar();     // ÙŠØ±Ø³Ù… Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
      showInfo(selectedDay);// ÙŠØ¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø­ÙƒÙ… Ù…Ø¨Ø§Ø´Ø±Ø©
      renderHadith();       // ÙŠØ¹Ø±Ø¶ Ø­Ø¯ÙŠØ« Ø§Ù„Ø²ÙŠØ§Ø±Ø©
      initShareLinks();     // ÙŠØ¬Ù‡Ù‘Ø² Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
    })();
  </script>
</body>
</html>
